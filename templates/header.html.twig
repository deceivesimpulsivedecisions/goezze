<nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
        <a class="navbar-brand" href="{{ path('homepage') }}">
            <img src="{{ asset('images/logo.png') }}" width="30" class="d-inline-block align-top" alt="Goezze">
            Goezze
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            {% set route = app.request.attributes.get('_route') %}
            <ul class="navbar-nav">
                <li class="nav-item {{ route == 'homepage' ? 'active' }} px-2"><a class="nav-link" href="{{ path('homepage') }}">Home</a></li>
                <li class="nav-item {{ route == 'app_category_list' ? 'active' }} px-2"><a class="nav-link" href="{{ path('app_category_list') }}">Categories</a></li>
                {#                <li class="nav-item {{ route == 'applications' ? 'active' }} px-2"><a class="nav-link" href="{{ path('applications') }}">Applications</a></li>#}
                {#                <li class="nav-item {{ route == 'colors' ? 'active' }} px-2"><a class="nav-link" href="{{ path('colors') }}">Colors</a></li>#}
                {#                <li class="nav-item {{ route == 'brands' ? 'active' }} px-2"><a class="nav-link" href="{{ path('brands') }}">Brands</a></li>#}
                {#                <li class="nav-item {{ route == 'articles' ? 'active' }} px-2"><a class="nav-link" href="{{ path('articles') }}">Articles</a></li>#}
                <li class="nav-item px-2 contact-us d-none d-lg-block"><a class="nav-link contact-btn-secondary py-2">Contact Us</a></li>
            </ul>
            <ul class="navbar-nav">
                {% if route != "homepage" %}
                    <li class="nav-item mx-lg-1 my-lg-0 my-1"><div id="search"></div></li>
                {% endif %}
                {% if app.user %}

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            {{ app.user.email }}
                        </a>
                        <ul class="dropdown-menu">

                            {% if 'ROLE_ADMIN' in app.user.roles %}
                                <li><a class="dropdown-item" href="{{ path('admin_dashboard') }}" target="_blank">Admin</a></li>
                            {% endif %}

                            <li><a class="dropdown-item" href="{{ path('app_logout') }}">Log out</a></li>
                        </ul>
                    </li>
                {% else %}
                    <li class="nav-item mx-lg-1 my-lg-0 my-1"><a class="btn btn-outline-secondary login" href="{{ path('app_login') }}">Login</a></li>
                    {#                        <li class="nav-item mx-lg-1 my-lg-0 my-1"><a class="btn btn-outline-secondary sign-up" href="{{ path('signup') }}">Sign Up</a></li>#}
                {% endif %}
            </ul>
        </div>
    </div>
</nav>


{# <script>
    meals.on('click', function () {

        var passengerIndex = $(this).data('passenger-index');
        $(this).addClass('selected-meal');
        $(this).parents('.row').find('.select').removeClass('d-none');
        $(this).parents('.accordion-body').find('.selected').addClass('d-none');
        $(this).parents('.accordion-body').find('.selected-meal').css('background-color', '');
        const mealId = $(this).data('meal-id');

        $(this).parents('.accordion-body').children('.add-meal').val(mealId);

        $(this).find('.select').addClass('d-none');
        $(this).find('.selected').removeClass('d-none');
        $(this).css('background-color', '#f5b9a0');

        var extraServices = fareSummary.find('.extra-services');
        var mealServices = extraServices.find('.meal-service');
        var fareSummary = body.find('.fare-summary');
        var grandTotal = fareSummary.find('.total-amount');

        mealServices.find('.meal-passenger-'+passengerIndex).removeClass('d-none');
        var mealName =  $(this).find('.meal-name').text();
        var mealPrice =  parseInt($(this).find('.meal-price').text());
        mealServices.find('.meal-name'+passengerIndex).text(mealName);
        mealServices.find('.meal-price'+passengerIndex).text(mealPrice);

        var basePrice = parseInt(fareSummary.find('.base-price').text());
        var taxes = parseInt(fareSummary.find('.taxes').text());
        var convienceFee = parseInt(fareSummary.find('.convenience').text());

        var baggagePrice =  parseInt(fareSummary.find('.price').text() === '' ? 0 : fareSummary.find('.price').text());

        extraServices.removeClass('d-none');
        mealServices.removeClass('d-none');
        let sumMealPrices = 0;

        // Iterate over each element with class starting with "meal-price"
        console.log($('.fare-meal-price'));
        $('.fare-meal-price').each(function () {
            // Get the numeric value of the span content and add it to the sum
            sumMealPrices += parseFloat($(this).text()) || 0;
        });

        console.log(sumMealPrices);
        //
        // mealServices.find('.meal-name').text(mealName);
        // mealServices.find('.meal-price').text(mealPrice);
        grandTotal.text(basePrice + taxes + convienceFee + baggagePrice + sumMealPrices);
    });
</script> #}